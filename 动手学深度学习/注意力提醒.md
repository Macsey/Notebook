## _双组件_（two-component）的框架
1. _非自主性提示_:基于环境中物体的突出性和易见性
2. _自主性提示_:受到了认知和意识的控制
注意力在基于自主性提示去辅助选择时将更为谨慎
## 查询、键和值
注意力机制：
![[Pasted image 20251210221509.png]]
注意力机制与全连接层或汇聚层**区别**:是否包含自主性提示
查询：自主性提示
键：非自主性提示
值：感官输入
关系：给定任何查询，注意力机制通过注意力汇聚（attention pooling） 将选择引导至感官输入。
注意力汇聚得到的是加权平均的总和值， 其中权重是在给定的查询和不同的键之间计算得出的。

| **类型** | **英文**           | **别名**          | **特点** | **驱动源**           | **对应深度学习**                  |
| ------ | ---------------- | --------------- | ------ | ----------------- | --------------------------- |
| 非自主性提示 | Involuntary Cues | 显著性 (Saliency)  | 被动、本能  | **环境/物体** (Keys)  | 卷积神经网络(CNN)关注纹理/边缘 (无Query) |
| 自主性提示  | Voluntary Cues   | 意志 (Volitional) | 主动、有目的 | **意识/任务** (Query) | 注意力汇聚 (Attention Pooling)   |

- **Query (查询)**：代表“随意线索”，即我们当下的任务目标。
- **Key (键)**：代表“不随意线索”的特征，用于和 Query 进行比对。
- **Value (值)**：当 Query 和 Key 匹配成功后，我们需要提取的实际内容。




为了通俗讲解，我们想象一个场景：**你在一个乱糟糟的书房里。**

---

### 一、 两个核心概念：随意 vs 不随意

心理学家（威廉·詹姆斯）把注意力分成了两种完全不同的来源：

#### 1. 不随意线索 (Involuntary Cues) —— “它在抢你的眼球”

- **通俗解释**：你**没有**特定的目的，但是某个东西太突出了，强行吸引了你的目光。
    
- **场景**：
    
    - 书房里全是白纸黑字的书，但桌上放了一个**鲜红色的咖啡杯**。
        
    - 你一进门，眼神瞬间就被那个红杯子吸过去了。
        
- **特点**：
    
    - **被动**：不是你想看，是它让你看。
        
    - **由环境决定**：也就是由物体本身的特征（Key/Value）决定。
        
    - 在深度学习里，这对应着**输入数据的特征**（比如图片的边缘、颜色的对比度）。
        

#### 2. 随意线索 (Voluntary Cues) —— “你在找东西”

- **通俗解释**：你有**明确的目标**，你的意识强行控制你的眼睛去忽略别的东西，只找你想要的。
    
- **场景**：
    
    - 现在我给你一个任务：“帮我把那本《动手学深度学习》找出来”。
        
    - 这时候，尽管那个红杯子还是很显眼，但你的眼睛会**主动抑制**看杯子的冲动，开始快速扫描书脊上的文字。
        
    - 当你看到“深度学习”几个字时，你的注意力锁定了。
        
- **特点**：
    
    - **主动**：受你的意识（Query）控制。
        
    - **由任务决定**：你想找什么，注意力权重就分给谁。
        
    - 在深度学习里，这对应着**查询向量 (Query)**。
        

---

### 二、 为什么这很重要？（连接到 Q, K, V）

理解了上面两个概念，你就理解了 Transformer 那个公式 $\text{Attention}(Q, K, V)$ 的灵魂：

1. 环境（Keys/Values）：
    
    桌子上的所有东西（书、笔、红杯子）就是 $K$ 和 $V$。它们就在那里，有着自己的特征（不随意线索）。
    
2. 意图（Query）：
    
    你的大脑里想找“深度学习书”，这个念头就是 $Q$（随意线索）。
    
3. 注意力机制（Attention）：
    
    就是把你的 意图($Q$) 和 环境里的特征($K$) 进行匹配。
    
    - $Q$ (找书) 和 $K$ (红杯子) $\rightarrow$ 匹配度低 $\rightarrow$ 忽略。
        
    - $Q$ (找书) 和 $K$ (书脊文字) $\rightarrow$ 匹配度高 $\rightarrow$ **关注(Attention)**。