## 1. 核心概念

**图像增广**是指在训练过程中，通过对训练图像进行一系列**随机的变化**（Random Transformations），从而生成新的、多样化的训练样本的技术。
- **本质**：用计算能力换取数据多样性。
- **目的**：
    1. **增加数据量**：模拟真实世界中可能出现的各种情况（角度、光照、位置）。
    2. **防止过拟合 (Regularization)**：强迫模型学习图像的本质特征，而不是记忆背景或特定像素排列。
    3. **提升泛化能力**：让模型在测试集上表现更好。

## 2. 常用增广方法

|**方法类**|**API 名称**|**描述**|**注意事项**|
|---|---|---|---|
|**翻转**|`RandomHorizontalFlip`|随机水平翻转|最常用，适合物体左右对称的场景（如动物、车）。|
||`RandomVerticalFlip`|随机垂直翻转|**慎用**。仅适用于无上下之分的数据（如细胞、俯视地图）。|
|**裁剪**|`RandomResizedCrop`|随机裁剪并缩放|极强力。强迫模型看局部。包含两步：裁剪+Resize到固定大小。|
|**颜色**|`ColorJitter`|颜色抖动|随机改变亮度、对比度、饱和度、色调。模拟光照变化。|
|**几何**|`RandomRotation`|随机旋转|模拟拍摄角度倾斜。|
|**其它**|`ToTensor`|转为 Tensor|**必须步骤**。将 PIL 图片 (H,W,C) 转为 Tensor (C,H,W) 并归一化到 [0,1]。|
||`Normalize`|标准化|减均值除方差 `(image - mean) / std`，加速收敛。|

## 3. 实现细节：在线增广 (Online Augmentation)

现代深度学习通常采用**在线增广**：

- **做法**：不把增广后的图存到硬盘上。而是在读取数据后、送入 GPU 前，由 CPU 实时进行随机变换。
- **优势**：
    1. 节省硬盘空间。
    2. 每个 Epoch 看到的图片都不一样（样本通过无限次随机组合，几乎不重复）。

## 4. 训练与测试的区别

- **训练集 (Train Set)**
    - Pipeline: `Resize` + `RandomCrop（(随机裁剪):）` + `RandomFlip(随机翻转)` + `ColorJitter（颜色抖动）` + `ToTensor` + `Normalize`
    - _目的_：增加难度，增加多样性。
- **测试集/验证集 (Test/Val Set)**：
    - Pipeline: `Resize` + `CenterCrop（中心裁剪）` + `ToTensor` + `Normalize`
    - _目的_：保持确定性，评估模型真实能力。**不要在测试时翻转或随机裁剪！**